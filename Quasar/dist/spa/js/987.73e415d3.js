"use strict";(self["webpackChunkquasar"]=self["webpackChunkquasar"]||[]).push([[987],{4987:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var r=t(3673);const o=["innerHTML"];function a(e,n,t,a,i,s){const c=(0,r.up)("MapController"),l=(0,r.up)("GoogleMap");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",{innerHTML:e.description,class:"q-mb-lg"},null,8,o),(0,r.Wm)(c),(0,r.Wm)(l)])}const i={style:{position:"relative",width:"100%",height:"80vh"}},s=(0,r._)("div",{id:"gmap",class:"absolute fit"},null,-1),c=[s];function l(e,n,t,o,a,s){return(0,r.wg)(),(0,r.iD)("div",i,c)}var u=t(1959),p=t(1029);class d{constructor(e,n){this.config=e,this.map=n,this.markerObject=new google.maps.Marker}getMarker(){return this.markerObject}remove(){this.markerObject.setVisible(!1),this.markerObject.setMap(null)}place(){this.markerObject=new google.maps.Marker({position:new google.maps.LatLng(this.config.lat,this.config.lng)}),this.markerObject.setMap(this.map)}}var m=t(144),f=function(e,n,t,r){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,a){function i(e){try{c(r.next(e))}catch(n){a(n)}}function s(e){try{c(r["throw"](e))}catch(n){a(n)}}function c(e){e.done?t(e.value):o(e.value).then(i,s)}c((r=r.apply(e,n||[])).next())}))};let g=window.google;const k="AIzaSyBpwKhuD-RkJ0-fzFOCqAdBOjmOyhhnBLY",h=new p.a({apiKey:k||"",version:"beta"}),v=(0,u.qj)({map:{}}),M=(0,u.qj)({}),w=(0,u.qj)({}),b={center:{lat:1.357,lng:103.822},zoom:11},y=()=>{const e=e=>f(void 0,void 0,void 0,(function*(){yield h.load(),g=window.google,v.map=new g.maps.Map(e,b)})),n=(e,n)=>{if(M[n])return;const t=new d(e,v.map);return t.place(),M[n]=t.getMarker(),t.getMarker()},t=(e,t)=>{const r=[];e.forEach((e=>{const t=n(e.config,e.id);t&&r.push(t)})),w[t]?w[t].addMarkers(Object.values(M)):w[t]=new m.XL({map:v.map,markers:r})},r=e=>{M[e].setVisible(!1),M[e].setMap(null),delete M[e]};return{initMap:e,placeMarker:n,placeMarkerClusterer:t,removeMarker:r}};var j=function(e,n,t,r){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,a){function i(e){try{c(r.next(e))}catch(n){a(n)}}function s(e){try{c(r["throw"](e))}catch(n){a(n)}}function c(e){e.done?t(e.value):o(e.value).then(i,s)}c((r=r.apply(e,n||[])).next())}))};const{initMap:C}=y(),O=(0,r.aZ)({setup(){return(0,r.bv)((()=>j(this,void 0,void 0,(function*(){const e=document.getElementById("gmap");yield C(e)})))),{}}});var q=t(4260);const Z=(0,q.Z)(O,[["render",l]]),L=Z,B={class:"q-my-md"},x=(0,r.Uk)("Add Markers"),D=(0,r.Uk)("Remove Markers");function W(e,n,t,o,a,i){const s=(0,r.up)("q-btn");return(0,r.wg)(),(0,r.iD)("div",B,[(0,r.Wm)(s,{onClick:e.addMarker},{default:(0,r.w5)((()=>[x])),_:1},8,["onClick"]),(0,r.Wm)(s,{onClick:e.removeMarkers},{default:(0,r.w5)((()=>[D])),_:1},8,["onClick"])])}const{placeMarkerClusterer:_,removeMarker:z}=y(),A=(0,r.aZ)({setup(){function e(){_([{id:"test1",config:{lat:1.357,lng:103.822}},{id:"test2",config:{lat:1.364,lng:103.828}}],"tests")}function n(){z("test1")}return{addMarker:e,removeMarkers:n}}});var E=t(2165),G=t(7518),H=t.n(G);const I=(0,q.Z)(A,[["render",W]]),K=I;H()(A,"components",{QBtn:E.Z});const P=(0,r.aZ)({components:{GoogleMap:L,MapController:K},props:{description:{type:String}},setup(){return{}}}),R=(0,q.Z)(P,[["render",a]]),S=R}}]);